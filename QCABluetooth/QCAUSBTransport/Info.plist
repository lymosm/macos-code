<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>CFBundleDevelopmentRegion</key>
    <string>$(DEVELOPMENT_LANGUAGE)</string>
    <key>CFBundleIdentifier</key>
    <string>$(PRODUCT_BUNDLE_IDENTIFIER)</string>
    <key>CFBundleInfoDictionaryVersion</key>
    <string>6.0</string>
    <key>CFBundleName</key>
    <string>$(PRODUCT_NAME)</string>
    <key>CFBundleExecutable</key>
    <string>$(EXECUTABLE_NAME)</string>
    <key>CFBundlePackageType</key>
    <string>$(PRODUCT_BUNDLE_PACKAGE_TYPE)</string>
    <key>CFBundleVersion</key>
    <string>$(CURRENT_PROJECT_VERSION)</string>
    <key>CFBundleShortVersionString</key>
    <string>$(MARKETING_VERSION)</string>

    <key>IOKitPersonalities</key>
    <dict>
        <!-- personality 1: interface (首选匹配) -->
        <key>QCA USB Bluetooth Transport (Interface)</key>
        <dict>
            <key>CFBundleIdentifier</key>
            <string>$(PRODUCT_BUNDLE_IDENTIFIER)</string>
            <key>IOClass</key>
            <string>QCAUSBTransport</string>
            <key>IOProviderClass</key>
            <string>IOUSBHostInterface</string>
            <key>bInterfaceClass</key>
            <integer>224</integer>
            <key>bInterfaceSubClass</key>
            <integer>1</integer>
            <key>bInterfaceProtocol</key>
            <integer>1</integer>
            <key>IOProbeScore</key>
            <integer>200</integer>
        </dict>

        <!-- personality 2: device (备用) — 让 kext 在 device 出现时就加载 -->
        <key>QCA USB Bluetooth Transport (Device)</key>
        <dict>
            <key>CFBundleIdentifier</key>
            <string>$(PRODUCT_BUNDLE_IDENTIFIER)</string>
            <key>IOClass</key>
            <string>QCAUSBTransport</string>
            <key>IOProviderClass</key>
            <string>IOUSBHostDevice</string>

            <!-- 用你给的 vendor/product 限定，避免错配 -->
            <key>idVendor</key>
            <integer>1226</integer>
            <key>idProduct</key>
            <integer>12312</integer>
            <key>IOProbeScore</key>
            <integer>200</integer>
        </dict>
    </dict>


    <key>OSBundleRequired</key>
    <string>Root</string>

    <key>OSBundleLibraries</key>
    <dict>
        <key>com.apple.kpi.bsd</key>
            <string>8.0.0</string>
            <key>com.apple.iokit.IOUSBHostFamily</key>
            <string>1.2</string>
            <key>com.apple.iokit.IOBluetoothFamily</key>
            <string>9.0.0</string>
            <key>com.apple.kpi.iokit</key>
            <string>16.7</string>
            <key>com.apple.kpi.libkern</key>
            <string>16.7</string>
            <key>com.apple.kpi.mach</key>
            <string>16.7</string>
            <key>com.apple.kpi.unsupported</key>
            <string>8.0.0</string>
    </dict>
</dict>
</plist>

